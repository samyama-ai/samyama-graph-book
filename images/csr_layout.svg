<svg width="800" height="400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#555" />
    </marker>
  </defs>

  <rect width="100%" height="100%" fill="#ffffff"/>
  <text x="400" y="40" font-family="Helvetica, Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">Compressed Sparse Row (CSR) Memory Layout</text>

  <!-- Logic Layer -->
  <g transform="translate(50, 100)">
    <text x="0" y="35" font-family="Helvetica, Arial, sans-serif" font-size="18" font-weight="bold" fill="#1565c0">Row Offsets</text>
    <text x="0" y="60" font-family="Consolas, monospace" font-size="14" fill="#555">out_offsets: Vec&lt;usize&gt;</text>
    
    <g transform="translate(150, 10)">
      <!-- Array Cells -->
      <rect x="0" y="0" width="60" height="60" fill="#bbdefb" stroke="#1976d2" stroke-width="2"/>
      <text x="30" y="35" text-anchor="middle" font-family="Consolas, monospace" font-size="18">0</text>
      
      <rect x="60" y="0" width="60" height="60" fill="#bbdefb" stroke="#1976d2" stroke-width="2"/>
      <text x="90" y="35" text-anchor="middle" font-family="Consolas, monospace" font-size="18">2</text>
      
      <rect x="120" y="0" width="60" height="60" fill="#bbdefb" stroke="#1976d2" stroke-width="2"/>
      <text x="150" y="35" text-anchor="middle" font-family="Consolas, monospace" font-size="18">5</text>
      
      <rect x="180" y="0" width="60" height="60" fill="#bbdefb" stroke="#1976d2" stroke-width="2"/>
      <text x="210" y="35" text-anchor="middle" font-family="Consolas, monospace" font-size="18">7</text>
      
      <!-- Indices -->
      <text x="30" y="-10" text-anchor="middle" font-size="12" fill="#777">idx:0</text>
      <text x="90" y="-10" text-anchor="middle" font-size="12" fill="#777">1</text>
      <text x="150" y="-10" text-anchor="middle" font-size="12" fill="#777">2</text>
      <text x="210" y="-10" text-anchor="middle" font-size="12" fill="#777">3</text>
    </g>
  </g>

  <!-- Targets Layer -->
  <g transform="translate(50, 220)">
    <text x="0" y="35" font-family="Helvetica, Arial, sans-serif" font-size="18" font-weight="bold" fill="#2e7d32">Adjacency</text>
    <text x="0" y="60" font-family="Consolas, monospace" font-size="14" fill="#555">out_targets: Vec&lt;u64&gt;</text>
    
    <g transform="translate(150, 10)">
      <!-- Node 0 neighbors -->
      <rect x="0" y="0" width="50" height="50" fill="#c8e6c9" stroke="#388e3c" stroke-width="2"/>
      <text x="25" y="30" text-anchor="middle" font-family="Consolas, monospace">10</text>
      <rect x="50" y="0" width="50" height="50" fill="#c8e6c9" stroke="#388e3c" stroke-width="2"/>
      <text x="75" y="30" text-anchor="middle" font-family="Consolas, monospace">12</text>
      
      <!-- Node 1 neighbors -->
      <rect x="100" y="0" width="50" height="50" fill="#ffecb3" stroke="#fbc02d" stroke-width="2"/>
      <text x="125" y="30" text-anchor="middle" font-family="Consolas, monospace">5</text>
      <rect x="150" y="0" width="50" height="50" fill="#ffecb3" stroke="#fbc02d" stroke-width="2"/>
      <text x="175" y="30" text-anchor="middle" font-family="Consolas, monospace">8</text>
      <rect x="200" y="0" width="50" height="50" fill="#ffecb3" stroke="#fbc02d" stroke-width="2"/>
      <text x="225" y="30" text-anchor="middle" font-family="Consolas, monospace">9</text>
      
      <!-- Node 2 neighbors -->
      <rect x="250" y="0" width="50" height="50" fill="#e1bee7" stroke="#8e24aa" stroke-width="2"/>
      <text x="275" y="30" text-anchor="middle" font-family="Consolas, monospace">11</text>
      <rect x="300" y="0" width="50" height="50" fill="#e1bee7" stroke="#8e24aa" stroke-width="2"/>
      <text x="325" y="30" text-anchor="middle" font-family="Consolas, monospace">14</text>
    </g>
  </g>

  <!-- Pointers -->
  <path d="M180,160 L180,190 L150,190 L150,225" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrow)" stroke-dasharray="5"/>
  <text x="160" y="210" font-size="12" fill="#555">Node 0: Start</text>
  
  <path d="M240,160 L240,190 L250,190 L250,225" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrow)" stroke-dasharray="5"/>
  <text x="260" y="210" font-size="12" fill="#555">Node 1: Start</text>
  
  <path d="M300,160 L300,190 L400,190 L400,225" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrow)" stroke-dasharray="5"/>
  <text x="410" y="210" font-size="12" fill="#555">Node 2: Start</text>

</svg>